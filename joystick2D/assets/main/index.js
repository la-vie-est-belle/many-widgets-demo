System.register("chunks:///_virtual/Joystick2D.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,o,e,n,s,r,h,a,d,c,_,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.defineProperty},function(t){r=t.cclegacy,h=t._decorator,a=t.Node,d=t.Vec3,c=t.UITransform,_=t.Vec2,u=t.Component}],execute:function(){var l,p,f,g,v,N;r._RF.push({},"23fabgBZ1dNDqqIcgJGqjqA","Joystick2D",void 0);var T=h.ccclass,m=h.property;t("Joystick2D",(l=T("Joystick2D"),p=m({type:a}),l((v=i((g=function(t){function i(){for(var i,o=arguments.length,r=new Array(o),h=0;h<o;h++)r[h]=arguments[h];return i=t.call.apply(t,[this].concat(r))||this,e(n(i),"targetNode",v,n(i)),e(n(i),"speed",N,n(i)),s(n(i),"_isMoving",!1),s(n(i),"_childNode",new a),s(n(i),"_moveDir",new d(0,1,0)),s(n(i),"_nodeUITransform",new c),s(n(i),"_canvasUITransform",new c),s(n(i),"_isBorderExhisted",!0),s(n(i),"_isOnlyFourDirections",!1),i}o(i,t);var r=i.prototype;return r.onLoad=function(){this._init()},r.start=function(){},r._init=function(){this._initNode(),this._initTouchEvent(),this._initUITransform()},r._initNode=function(){this._childNode=this.node.children[0]},r._initUITransform=function(){var t;this._nodeUITransform=this.node.getComponent(c),this._canvasUITransform=null===(t=this.node.parent)||void 0===t?void 0:t.getComponent(c)},r._initTouchEvent=function(){this.node.on(a.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(a.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(a.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(a.EventType.TOUCH_CANCEL,this._onTouchCancel,this)},r._onTouchStart=function(t){this._isMoving=!0;var i=t.getUILocation(),o=this._nodeUITransform.convertToNodeSpaceAR(new d(i.x,i.y,0));this._childNode.setPosition(o),this._moveDir=new d(this._childNode.position.x,this._childNode.position.y,0).normalize()},r._onTouchMove=function(t){var i=t.getDelta();this._childNode.setPosition(this._childNode.position.add3f(i.x,i.y,0)),this._moveDir=new d(this._childNode.position.x,this._childNode.position.y,0).normalize()},r._onTouchEnd=function(t){this._isMoving=!1,this._childNode.setPosition(d.ZERO)},r._onTouchCancel=function(t){this._isMoving=!1,this._childNode.setPosition(d.ZERO)},r._limitChildNode=function(){var t=this._childNode.position.x,i=this._childNode.position.y,o=new d(t,i,0).length()/(this._nodeUITransform.width/2);o>1&&this._childNode.setPosition(t/o,i/o,0)},r._rotateTargetNode=function(){var t=new _(this._moveDir.x,this._moveDir.y).signAngle(new _(1,0))/Math.PI*180+90;this.targetNode.setRotationFromEuler(0,0,-t)},r._moveTargetNode=function(){var t=this._moveDir.x,i=this._moveDir.y;if(this.targetNode.setPosition(this.targetNode.position.add3f(t*this.speed,i*this.speed,0)),this._isBorderExhisted){var o=new c,e=(o=this.targetNode.getComponent(c)).anchorX,n=o.anchorY,s=o.width,r=o.height;this.targetNode.position.x>this._canvasUITransform.width/2-s*(1-e)?this.targetNode.setPosition(this._canvasUITransform.width/2-s*(1-e),this.targetNode.position.y,0):this.targetNode.position.x<-this._canvasUITransform.width/2+s*e&&this.targetNode.setPosition(-this._canvasUITransform.width/2+s*e,this.targetNode.position.y,0),this.targetNode.position.y>this._canvasUITransform.height/2-r*(1-n)?this.targetNode.setPosition(this.targetNode.position.x,this._canvasUITransform.height/2-r*(1-n),0):this.targetNode.position.y<-this._canvasUITransform.height/2+r*n&&this.targetNode.setPosition(this.targetNode.position.x,-this._canvasUITransform.height/2+r*n)}},r.setTargetNode=function(t){this.targetNode=t},r.setSpeed=function(t){this.speed=t},r.setBorder=function(){this._isBorderExhisted=!0},r.clearBorder=function(){this._isBorderExhisted=!1},r.update=function(t){this._limitChildNode(),this._isMoving&&(this._rotateTargetNode(),this._moveTargetNode())},i}(u)).prototype,"targetNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),N=i(g.prototype,"speed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),f=g))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,a;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator,a=e.Component}],execute:function(){var o;r._RF.push({},"48cb2oBh5BJLbMNummFQaT/","GameManager",void 0);var c=n.ccclass;n.property,e("GameManager",c("GameManager")(o=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.prototype.start=function(){},r}(a))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Joystick2D.ts","./GameManager.ts"],(function(){"use strict";return{setters:[null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});